generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// Types of interest rate intervals for debt repayment
enum InterestRateType {
  MONTHLY // Monthly payment
  YEARLY // Yearly payment
}

model User {
  id        String   @id @default(cuid())
  name      String?
  email     String   @unique
  password  String // Hashed password
  image     String? // Optional profile image
  debts     Debt[] // List of debts linked to this user
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Debt {
  id               String           @id @default(uuid())
  name             String
  principal        Float
  interestRate     Float
  interestRateType InterestRateType
  currency         String
  termMonths       Int
  note             String?
  extraMonthlyPay  Float? // ✅ NEW: Extra amount user plans to pay monthly
  isRevolving      Boolean          @default(false) // ✅ NEW: Credit card-style (flexible) debt flag
  userId           String
  user             User             @relation(fields: [userId], references: [id])
  createdAt        DateTime         @default(now())
  updatedAt        DateTime         @updatedAt
}
